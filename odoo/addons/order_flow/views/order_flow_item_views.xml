<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_content_content_form" model="ir.ui.view">
            <field name="name">order_flow.item.form</field>
            <field name="model">order_flow.item</field>
            <field name="arch" type="xml">
                <header>
                    <button name="%(order_flow_label_request_bulk_action)d"
                            string="Make Label"
                            data-hotkey="l"
                            title="Queue a label to be printed"
                            type="action"
                            context="{
                                'default_item_id': active_id
                            }" />
                </header>
                <form string="Order Flow Item">
                    <sheet>
                        <field name="item_type" widget="radio" options="{'horizontal': True}"/>

                        <div class="oe_title">
                            <h1>
                                <field name="name"
                                       default_focus="1"
                                       placeholder="Give this Item a name. Eg, Raspberry Pi, Monitor, etc"/>
                            </h1>
                        </div>


                        <group/>

                        <group name="item_details" col="12">
                            <group colspan="8">
                                <separator string="Item Details"/>
                                <field name="description"/>

                                <separator string="Vietnamese Details"/>
                                <field name="name_vietnamese"/>
                                <field name="description_vietnamese"/>
                            </group>

                            <group colspan="4">
                                <separator string="Product Status"/>
                                <field name="status"/>
                                <field name="asking_price"/>

                                <separator string="Product Image"/>
                                <field name="image_1920" widget='image'/>

                                <separator string="Item Relationships"/>
                                <field name="shipping_method_id"/>

                                <separator string="Item Dimensions"/>
                                <field name="size_height"/>
                                <field name="size_width"/>
                                <field name="size_depth"/>
                                <field name="weight"/>

                                <separator string="Item Meta"/>
                                <field name="integration_code"/>
                                <field name="barcode"/>

                                <field name="item_tag_ids" widget="many2many_tags"/>
                                <field name="item_meta_ids"/>
                            </group>
                        </group>

                        <separator string="Pending Label Requests"/>
                        <field name="pending_label_request_ids" string="Pending Label Requests"/>


                        <separator string="Sub-Items"/>
                        <field name="sub_item_ids" string="Sub-Items"
                               context="{
                                    'default_parent_item_id': active_id,
                                    'form_view_ref': 'order_flow.view_order_flow_item_contents_form'
                                }"/>


                        <separator string="Storage Locations"/>
                        <field name="storage_ids"
                               string="Storage Locations"
                               context="{
                                    'default_child_item_id': active_id,
                                    'form_view_ref': 'order_flow.view_order_flow_item_contents_form'
                                }">
                        </field>

                        <separator string="Orders"/>
                        <field name="order_item_ids"
                               context="{
                                            'default_item_id': active_id,
                                            'form_view_ref': 'order_flow.view_order_flow_order_item_form'
                                        }"/>

                        <separator string="Adjustments"
                                   context="{
                                    'default_parent_item_id': active_id,
                                    'form_view_ref': 'order_flow.view_order_flow_item_adjustment_form'
                                }"/>
                        <field name="adjustment_ids"/>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="order_flow_item_tree" model="ir.ui.view">
            <field name="name">order_flow.item.tree</field>
            <field name="model">order_flow.item</field>
            <field name="arch" type="xml">
                <tree string="Content" sample="1">
                    <field name="image_1920"
                           widget='image'
                           class="oe_avatar"
                           options='{"preview_image": "image_128"}'/>
                    <field name="name"/>
                    <field name="name_vietnamese"/>
                    <field name="barcode"/>
                    <field name="item_tag_ids" widget="many2many_tags"/>
                    <field name="item_type"/>
                </tree>
            </field>
        </record>


        <record id="order_flow_item_kanban" model="ir.ui.view">
            <field name="name">order_flow.item.kanban</field>
            <field name="model">order_flow.item</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile"
                        default_group_by="status"
                        create="false"
                        group_create="false">

                    <field name="status"/>

                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_content oe_kanban_global_click">
                                <div class="row">
                                    <div class="col-md-4">

                                        <field name="image_1920"
                                               widget='image'
                                               class="o_kanban_image"
                                               options='{"preview_image": "image_128"}'/>
                                    </div>
                                    <div class="col-md-8">
                                        <div>
                                            <strong class="o_kanban_record_title"><span><field
                                                    name="name"/></span></strong>
                                        </div>
                                        <div>
                                            <span class="o_kanban_record_subtitle"><field
                                                    name="name_vietnamese"/></span>
                                        </div>
                                        <div>
                                            <field name="item_tag_ids" widget="many2many_tags"
                                                   options="{'color_field': 'color'}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <record id="order_flow_item_action" model="ir.actions.act_window">
            <field name="name">Items</field>
            <field name="res_model">order_flow.item</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="view_id" ref="order_flow_item_tree"/>
        </record>


        <record id="order_flow_initial_sort" model="ir.actions.act_window">
            <field name="name">Initial Sort</field>
            <field name="res_model">order_flow.item</field>

            <field name="context">{
                'field_set': 'initial'
            }
            </field>

            <field name="view_mode">tree,form,kanban</field>
            <field name="view_id" ref="order_flow_item_kanban"/>
        </record>


    </data>
</odoo>
